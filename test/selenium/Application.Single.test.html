*{ You can use plain selenium command using the selenium tag }*

#{fixture delete:'all', load:'data/single.yml' /}

#{selenium 'Check single page is shown without errors'}
    open('/logout')
    open('/')
    clickAndWait('//ul[@id="demotivators_list"]/li[1]/div/a')
    assertNotTitle('Application error')
#{/selenium}

#{selenium 'Check demotivator icons and content title present'}
	open('/')
    clickAndWait('//ul[@id="demotivators_list"]/li[1]/div/a')
	
	assertText('//title', 'Localhost Demotivators - An ugly demotivator')
	
	assertElementPresent('//div[@id="single_demotivator"]')
	
	assertElementPresent('//div[@id="single_demotivator"]')
	assertAttribute('//div[@id="single_demotivator"]/a@href', '/next/*')
	
	assertElementPresent('//div[@id="single_demotivator"]/a/img')
	assertAttribute('//div[@id="single_demotivator"]/a/img@src', '/image/ugly.jpg')
#{/selenium}
